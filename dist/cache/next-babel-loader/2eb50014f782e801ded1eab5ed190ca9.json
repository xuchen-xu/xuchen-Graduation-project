{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\u6BD5\\u4E1A\\u8BBE\\u8BA1\\\\\\u5B9E\\u8DF5\\u8D44\\u6599\\\\20210201-test\\\\20210201\\\\code\\\\next-ts\\u6A21\\u677F\\\\my-app\\\\pages\\\\index.tsx\";\nvar __jsx = React.createElement;\n// import Link from 'next/link'\nimport Layout from \"../components/Layout\";\nimport { withRouter } from \"next/router\";\nimport React from \"react\";\nimport \"../static/css/font-awesome.css\";\nimport \"./css/index.css\";\nimport fetch from \"isomorphic-unfetch\";\n\nconst IndexPage = props => {\n  const handleName = e => {\n    this.setState({\n      name: e.target.value\n    });\n    console.log(this.state.name);\n  };\n\n  const handlePwd = e => {\n    this.setState({\n      pwd: e.target.value\n    });\n    console.log(this.state.pwd);\n  };\n\n  const doLogin = () => {\n    this.props.show.forEach(item => {\n      if (item.userName == this.state.name && item.password == this.state.pwd) {\n        sessionStorage.setItem(\"name\", this.state.name);\n        sessionStorage.setItem(\"pwd\", this.state.pwd);\n        console.log(sessionStorage, \"xxxxxxx\");\n        this.props.history.push('/home');\n      }\n    });\n  };\n\n  return __jsx(Layout, {\n    title: \"\\u767B\\u5F55\\u9875\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"container clear\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"tbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"ph clear\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"m clear\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"\\u5BC6\\u7801\\u767B\\u5F55\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, __jsx(\"form\", {\n    className: \"loginBox\",\n    action: \"/home\",\n    method: \"post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    value: this.state.name,\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\",\n    onChange: this.handleName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), __jsx(\"input\", {\n    type: \"text\",\n    value: state.pwd,\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",\n    onChange: this.handlePwd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }), __jsx(\"input\", {\n    type: \"button\",\n    value: \"\\u767B\\u5F55\\u8C46\\u74E3\\u8BFB\\u4E66\",\n    onClick: this.doLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: \"tx clear\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"---\\u6362\\u4E00\\u79CD\\u767B\\u5F55\\u65B9\\u5F0F---\"), __jsx(\"div\", {\n    className: \"wx\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: \"xl clear\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"sew\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"\\u767B\\u5F55\\u5B54\\u5B50\\u65E7\\u4E66APP\"))));\n};\n\nIndexPage.getInitialProps = async context => {\n  const res = await fetch(\"http://localhost:3001/users\");\n  const show = await res.json(); //这边返回的数据会被挂载到组件的props中\n\n  return {\n    show\n  };\n};\n\nexport default withRouter(IndexPage);","map":{"version":3,"sources":["D:/react毕业设计/实践资料/20210201-test/20210201/code/next-ts模板/my-app/pages/index.tsx"],"names":["Layout","withRouter","React","fetch","IndexPage","props","handleName","e","setState","name","target","value","console","log","state","handlePwd","pwd","doLogin","show","forEach","item","userName","password","sessionStorage","setItem","history","push","getInitialProps","context","res","json"],"mappings":"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","sourcesContent":["// import Link from 'next/link'\nimport Layout from \"../components/Layout\";\nimport { withRouter } from \"next/router\";\nimport React from \"react\";\nimport \"@/static/css/font-awesome.css\";\nimport \"./css/index.css\";\nimport fetch from \"isomorphic-unfetch\";\nimport { fetchpost, fetchget } from \"../utils/zgfetch\";\n// import Fromdemo from \"./components/from\"\ntype State = {\n  userName: string; //用户名\n  passWord: string; //密码\n  name: string;\n  pwd: string;\n};\n\ntype IProps = {\n  show: [{}];\n  history:any;\n};\nconst IndexPage = (props: any) => {\n \n\n \n\n  const handleName = (e:any)=>{\n     this.setState({\n         name:e.target.value\n     })\n     console.log(this.state.name)\n  }\n\n  const handlePwd = (e:any)=>{\n    this.setState({\n        pwd:e.target.value\n    })\n    console.log(this.state.pwd)\n  }\n\n  const doLogin = ()=>{\n      this.props.show.forEach((item:any)=>{\n          if(item.userName == this.state.name && item.password == this.state.pwd){\n              sessionStorage.setItem(\"name\" , this.state.name);\n              sessionStorage.setItem(\"pwd\" , this.state.pwd)\n              console.log(sessionStorage,\"xxxxxxx\")\n              this.props.history.push('/home')\n          }\n      })\n  }\n\n    return (\n      <Layout title=\"登录页\">\n        <div className=\"container clear\">\n          <div className=\"tbl\">\n            <div></div>\n          </div>\n          <div className=\"ph clear\">\n            {/* <%--显示手机图--%> */}\n            {/* <div className=\"o\"></div> */}\n          </div>\n          <div className=\"m clear\">\n            <div>密码登录</div>\n            <div>\n              <form className=\"loginBox\" action=\"/home\" method=\"post\">\n                <input\n                  type=\"text\"\n                  value={this.state.name}\n                  placeholder=\"请输入用户名\"\n                  onChange={this.handleName}\n                />\n                <br></br>\n                <input\n                  type=\"text\"\n                  value={state.pwd}\n                  placeholder=\"请输入密码\"\n                  onChange={this.handlePwd}\n                />\n                <br></br>\n                <input type=\"button\" value=\"登录豆瓣读书\" onClick={this.doLogin} />\n              </form>\n              {/* <Fromdemo></Fromdemo> */}\n              {/* <div></div> */}\n            </div>\n            {/* <%--二维码标识--%> */}\n            <div></div>\n            <div className=\"tx clear\">---换一种登录方式---</div>\n            <div className=\"wx\"></div>\n            <div className=\"xl clear\"></div>\n          </div>\n          <div className=\"sew\">\n            <div></div>\n            <div>登录孔子旧书APP</div>\n          </div>\n        </div>\n      </Layout>\n    );\n  \n}\n\n\nIndexPage.getInitialProps = async (context: any) => {\n    const res = await fetch(\"http://localhost:3001/users\");\n    const show = await res.json();\n    //这边返回的数据会被挂载到组件的props中\n    return { show };\n  }\n\nexport default withRouter(IndexPage);"]},"metadata":{},"sourceType":"module"}