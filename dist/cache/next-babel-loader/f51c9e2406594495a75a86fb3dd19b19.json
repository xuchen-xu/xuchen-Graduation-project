{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\u6BD5\\u4E1A\\u8BBE\\u8BA1\\\\\\u5B9E\\u8DF5\\u8D44\\u6599\\\\20210201-test\\\\20210201\\\\code\\\\next-ts\\u6A21\\u677F\\\\my-app\\\\pages\\\\index.tsx\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// import Link from 'next/link'\nimport Layout from \"../components/Layout\";\nimport React from \"react\";\nimport \"../static/css/font-awesome.css\";\nimport \"./css/index.css\";\nimport fetch from \"isomorphic-unfetch\";\nexport default class IndexPage extends React.Component {\n  static async getInitialProps() {\n    const res = await fetch(\"http://localhost:3001/users\");\n    const show = await res.json(); //这边返回的数据会被挂载到组件的props中\n\n    return {\n      show\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleName\", e => {\n      this.setState({\n        name: e.target.value\n      });\n      console.log(this.state.name);\n    });\n\n    _defineProperty(this, \"handlePwd\", e => {\n      this.setState({\n        pwd: e.target.value\n      });\n      console.log(this.state.pwd);\n    });\n\n    _defineProperty(this, \"doLogin\", () => {\n      this.props.show.forEach(item => {\n        if (item.userName == this.state.name && item.password == this.state.pwd) {\n          sessionStorage.setItem();\n        }\n      });\n    });\n\n    this.state = {\n      userName: \"\",\n      //用户名\n      passWord: \"\",\n      //密码\n      name: \"\",\n      pwd: \"\"\n    };\n  }\n\n  render() {\n    return __jsx(Layout, {\n      title: \"\\u767B\\u5F55\\u9875\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: \"container clear\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"tbl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    })), __jsx(\"div\", {\n      className: \"ph clear\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }), __jsx(\"div\", {\n      className: \"m clear\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, \"\\u5BC6\\u7801\\u767B\\u5F55\"), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, __jsx(\"form\", {\n      className: \"loginBox\",\n      action: \"/home\",\n      method: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      value: this.state.name,\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\",\n      onChange: this.handleName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }), __jsx(\"input\", {\n      type: \"text\",\n      value: this.state.pwd,\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",\n      onChange: this.handlePwd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }), __jsx(\"input\", {\n      type: \"button\",\n      value: \"\\u767B\\u5F55\\u8C46\\u74E3\\u8BFB\\u4E66\",\n      onClick: this.doLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }))), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }), __jsx(\"div\", {\n      className: \"tx clear\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, \"---\\u6362\\u4E00\\u79CD\\u767B\\u5F55\\u65B9\\u5F0F---\"), __jsx(\"div\", {\n      className: \"wx\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }), __jsx(\"div\", {\n      className: \"xl clear\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    })), __jsx(\"div\", {\n      className: \"sew\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, \"\\u767B\\u5F55\\u5B54\\u5B50\\u65E7\\u4E66APP\"))));\n  }\n\n}","map":{"version":3,"sources":["D:/react毕业设计/实践资料/20210201-test/20210201/code/next-ts模板/my-app/pages/index.tsx"],"names":["Layout","React","fetch","IndexPage","Component","getInitialProps","res","show","json","constructor","props","e","setState","name","target","value","console","log","state","pwd","forEach","item","userName","password","sessionStorage","setItem","passWord","render","handleName","handlePwd","doLogin"],"mappings":"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","sourcesContent":["// import Link from 'next/link'\nimport Layout from \"../components/Layout\";\nimport { withRouter } from \"next/router\";\nimport React from \"react\";\nimport \"@/static/css/font-awesome.css\";\nimport \"./css/index.css\";\nimport fetch from \"isomorphic-unfetch\";\nimport { fetchpost, fetchget } from \"../utils/zgfetch\";\n// import Fromdemo from \"./components/from\"\ntype State = {\n  userName: string; //用户名\n  passWord: string; //密码\n  name: string;\n  pwd: string;\n};\n\ntype IProps = {\n  show: [{}];\n};\nexport default class IndexPage extends React.Component<IProps, State> {\n  static async getInitialProps() {\n    const res = await fetch(\"http://localhost:3001/users\");\n    const show = await res.json();\n    //这边返回的数据会被挂载到组件的props中\n    return { show };\n  }\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      userName: \"\", //用户名\n      passWord: \"\", //密码\n      name: \"\",\n      pwd: \"\",\n    };\n  }\n\n  handleName = (e:any)=>{\n     this.setState({\n         name:e.target.value\n     })\n     console.log(this.state.name)\n  }\n\n  handlePwd = (e:any)=>{\n    this.setState({\n        pwd:e.target.value\n    })\n    console.log(this.state.pwd)\n  }\n\n  doLogin = ()=>{\n      this.props.show.forEach((item:any)=>{\n          if(item.userName == this.state.name && item.password == this.state.pwd){\n              sessionStorage.setItem()\n          }\n      })\n  }\n\n\n  render() {\n    return (\n      <Layout title=\"登录页\">\n        <div className=\"container clear\">\n          <div className=\"tbl\">\n            <div></div>\n          </div>\n          <div className=\"ph clear\">\n            {/* <%--显示手机图--%> */}\n            {/* <div className=\"o\"></div> */}\n          </div>\n          <div className=\"m clear\">\n            <div>密码登录</div>\n            <div>\n              <form className=\"loginBox\" action=\"/home\" method=\"post\">\n                <input\n                  type=\"text\"\n                  value={this.state.name}\n                  placeholder=\"请输入用户名\"\n                  onChange={this.handleName}\n                />\n                <br></br>\n                <input\n                  type=\"text\"\n                  value={this.state.pwd}\n                  placeholder=\"请输入密码\"\n                  onChange={this.handlePwd}\n                />\n                <br></br>\n                <input type=\"button\" value=\"登录豆瓣读书\" onClick={this.doLogin} />\n              </form>\n              {/* <Fromdemo></Fromdemo> */}\n              {/* <div></div> */}\n            </div>\n            {/* <%--二维码标识--%> */}\n            <div></div>\n            <div className=\"tx clear\">---换一种登录方式---</div>\n            <div className=\"wx\"></div>\n            <div className=\"xl clear\"></div>\n          </div>\n          <div className=\"sew\">\n            <div></div>\n            <div>登录孔子旧书APP</div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}