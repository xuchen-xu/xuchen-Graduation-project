{"ast":null,"code":"import \"antd/lib/avatar/style/css\";\nimport _Avatar from \"antd/lib/avatar\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport \"antd/lib/button/style/css\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/form/style/css\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/list/style/css\";\nimport _List from \"antd/lib/list\";\nimport \"antd/lib/comment/style/css\";\nimport _Comment from \"antd/lib/comment\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport \"antd/lib/input/style/css\";\nimport _Input from \"antd/lib/input\";\nvar _jsxFileName = \"D:\\\\react\\u6BD5\\u4E1A\\u8BBE\\u8BA1\\\\\\u5B9E\\u8DF5\\u8D44\\u6599\\\\20210201-test\\\\20210201\\\\code\\\\next-ts\\u6A21\\u677F\\\\my-app\\\\pages\\\\comment.jsx\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { useState, useRef } from \"react\";\nimport moment from \"moment\";\nvar TextArea = _Input.TextArea;\n\nvar IndexPage = /*#__PURE__*/function (_React$Component) {\n  _inherits(IndexPage, _React$Component);\n\n  var _super = _createSuper(IndexPage);\n\n  function IndexPage() {\n    var _this;\n\n    _classCallCheck(this, IndexPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      comments: [],\n      submitting: false,\n      value: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"CommentList\", function (_ref) {\n      var any = _ref.comments;\n      return __jsx(_List, {\n        dataSource: _this.state.comments,\n        header: \"\".concat(comments.length, \" \").concat(_this.state.comments.length > 1 ? \"replies\" : \"reply\"),\n        itemLayout: \"horizontal\",\n        renderItem: function renderItem(props) {\n          return __jsx(_Comment, _extends({}, props, {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 22,\n              columnNumber: 30\n            }\n          }));\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 5\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"Editor\", function (_ref2) {\n      var any = _ref2.onChange,\n          onSubmit = _ref2.onSubmit,\n          submitting = _ref2.submitting,\n          value = _ref2.value;\n      return __jsx(\"div\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 5\n        }\n      }, __jsx(_Form.Item, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 7\n        }\n      }, __jsx(TextArea, {\n        rows: 4,\n        onChange: onChange,\n        value: value,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 9\n        }\n      })), __jsx(_Form.Item, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 7\n        }\n      }, __jsx(_Button, {\n        htmlType: \"submit\",\n        loading: submitting,\n        onClick: onSubmit,\n        type: \"primary\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }\n      }, \"Add Comment\")));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function () {\n      if (!_this.state.value) {\n        return;\n      }\n\n      _this.setState({\n        submitting: true\n      });\n\n      setTimeout(function () {\n        _this.setState({\n          submitting: false,\n          value: \"\",\n          comments: [{\n            author: \"Han Solo\",\n            avatar: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n            content: __jsx(\"p\", {\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 22\n              }\n            }, _this.state.value),\n            datetime: moment().fromNow()\n          }].concat(_toConsumableArray(_this.state.comments))\n        });\n      }, 1000);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (e) {\n      _this.setState({\n        value: e.target.value\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(IndexPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          comments = _this$state.comments,\n          submitting = _this$state.submitting,\n          value = _this$state.value;\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 7\n        }\n      }, comments.length > 0 && __jsx(CommentList, {\n        comments: comments,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 33\n        }\n      }), __jsx(_Comment, {\n        avatar: __jsx(_Avatar, {\n          src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n          alt: \"Han Solo\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }\n        }),\n        content: __jsx(Editor, {\n          onChange: this.handleChange,\n          onSubmit: this.handleSubmit,\n          submitting: submitting,\n          value: value,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return IndexPage;\n}(React.Component);\n\nexport { IndexPage as default };","map":{"version":3,"sources":["D:/react毕业设计/实践资料/20210201-test/20210201/code/next-ts模板/my-app/pages/comment.jsx"],"names":["React","useState","useRef","moment","TextArea","IndexPage","comments","submitting","value","any","state","length","props","onChange","onSubmit","setState","setTimeout","author","avatar","content","datetime","fromNow","e","target","handleChange","handleSubmit","Component"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\r\n\r\nimport { Comment, Avatar, Form, Button, List, Input } from \"antd\";\r\nimport moment from \"moment\";\r\n\r\nconst { TextArea } = Input;\r\n\r\n\r\n\r\nexport default class IndexPage extends React.Component {\r\n  state = {\r\n    comments: [],\r\n    submitting: false,\r\n    value: \"\",\r\n  };\r\n\r\n   CommentList = ({ comments:any }) => (\r\n    <List\r\n      dataSource={this.state.comments}\r\n      header={`${comments.length} ${this.state.comments.length > 1 ? \"replies\" : \"reply\"}`}\r\n      itemLayout=\"horizontal\"\r\n      renderItem={(props) => <Comment {...props} />}\r\n    />\r\n  );\r\n  \r\n  Editor = ({\r\n    onChange :any,\r\n    onSubmit,\r\n    submitting,\r\n    value,\r\n  }) => (\r\n    <div>\r\n      <Form.Item>\r\n        <TextArea rows={4} onChange={onChange} value={value} />\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Button\r\n          htmlType=\"submit\"\r\n          loading={submitting}\r\n          onClick={onSubmit}\r\n          type=\"primary\"\r\n        >\r\n          Add Comment\r\n        </Button>\r\n      </Form.Item>\r\n    </div>\r\n  );\r\n\r\n  handleSubmit = () => {\r\n    if (!this.state.value) {\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      submitting: true,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.setState({\r\n        submitting: false,\r\n        value: \"\",\r\n        comments: [\r\n          {\r\n            author: \"Han Solo\",\r\n            avatar:\r\n              \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\r\n            content: <p>{this.state.value}</p>,\r\n            datetime: moment().fromNow(),\r\n          },\r\n          ...this.state.comments,\r\n        ],\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      value: e.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { comments, submitting, value } = this.state;\r\n    return (\r\n      <div>\r\n        {comments.length > 0 && <CommentList comments={comments} />}\r\n        <Comment\r\n          avatar={\r\n            <Avatar\r\n              src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\"\r\n              alt=\"Han Solo\"\r\n            />\r\n          }\r\n          content={\r\n            <Editor\r\n              onChange={this.handleChange}\r\n              onSubmit={this.handleSubmit}\r\n              submitting={submitting}\r\n              value={value}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}