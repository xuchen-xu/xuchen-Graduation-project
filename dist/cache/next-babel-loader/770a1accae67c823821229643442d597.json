{"ast":null,"code":"import \"antd/lib/avatar/style/css\";\nimport _Avatar from \"antd/lib/avatar\";\nimport \"antd/lib/button/style/css\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/form/style/css\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/list/style/css\";\nimport _List from \"antd/lib/list\";\nimport \"antd/lib/comment/style/css\";\nimport _Comment from \"antd/lib/comment\";\nimport \"antd/lib/input/style/css\";\nimport _Input from \"antd/lib/input\";\nvar _jsxFileName = \"D:\\\\react\\u6BD5\\u4E1A\\u8BBE\\u8BA1\\\\\\u5B9E\\u8DF5\\u8D44\\u6599\\\\20210201-test\\\\20210201\\\\code\\\\next-ts\\u6A21\\u677F\\\\my-app\\\\pages\\\\comment.jsx\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useRef } from \"react\";\nimport moment from \"moment\";\nconst {\n  TextArea\n} = _Input;\nexport default class IndexPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      comments: [],\n      submitting: false,\n      value: \"\"\n    });\n\n    _defineProperty(this, \"CommentList\", ({\n      comments: any\n    }) => __jsx(_List, {\n      dataSource: this.state.comments,\n      header: `${comments.length} ${this.state.comments.length > 1 ? \"replies\" : \"reply\"}`,\n      itemLayout: \"horizontal\",\n      renderItem: props => __jsx(_Comment, _extends({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 30\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 5\n      }\n    }));\n\n    _defineProperty(this, \"Editor\", ({\n      onChange: any,\n      onSubmit,\n      submitting,\n      value\n    }) => __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 5\n      }\n    }, __jsx(_Form.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }\n    }, __jsx(TextArea, {\n      rows: 4,\n      onChange: onChange,\n      value: value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }\n    })), __jsx(_Form.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }\n    }, __jsx(_Button, {\n      htmlType: \"submit\",\n      loading: submitting,\n      onClick: onSubmit,\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }\n    }, \"Add Comment\"))));\n\n    _defineProperty(this, \"handleSubmit\", () => {\n      if (!this.state.value) {\n        return;\n      }\n\n      this.setState({\n        submitting: true\n      });\n      setTimeout(() => {\n        this.setState({\n          submitting: false,\n          value: \"\",\n          comments: [{\n            author: \"Han Solo\",\n            avatar: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n            content: __jsx(\"p\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 22\n              }\n            }, this.state.value),\n            datetime: moment().fromNow()\n          }, ...this.state.comments]\n        });\n      }, 1000);\n    });\n\n    _defineProperty(this, \"handleChange\", e => {\n      this.setState({\n        value: e.target.value\n      });\n    });\n  }\n\n  render() {\n    const {\n      comments,\n      submitting,\n      value\n    } = this.state;\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }, comments.length > 0 && __jsx(CommentList, {\n      comments: comments,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 33\n      }\n    }), __jsx(_Comment, {\n      avatar: __jsx(_Avatar, {\n        src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n        alt: \"Han Solo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      }),\n      content: __jsx(Editor, {\n        onChange: this.handleChange,\n        onSubmit: this.handleSubmit,\n        submitting: submitting,\n        value: value,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["D:/react毕业设计/实践资料/20210201-test/20210201/code/next-ts模板/my-app/pages/comment.jsx"],"names":["React","useState","useRef","moment","TextArea","IndexPage","Component","comments","submitting","value","any","state","length","props","onChange","onSubmit","setState","setTimeout","author","avatar","content","datetime","fromNow","e","target","render","handleChange","handleSubmit"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\r\n\r\nimport { Comment, Avatar, Form, Button, List, Input } from \"antd\";\r\nimport moment from \"moment\";\r\n\r\nconst { TextArea } = Input;\r\n\r\n\r\n\r\nexport default class IndexPage extends React.Component {\r\n  state = {\r\n    comments: [],\r\n    submitting: false,\r\n    value: \"\",\r\n  };\r\n\r\n   CommentList = ({ comments:any }) => (\r\n    <List\r\n      dataSource={this.state.comments}\r\n      header={`${comments.length} ${this.state.comments.length > 1 ? \"replies\" : \"reply\"}`}\r\n      itemLayout=\"horizontal\"\r\n      renderItem={(props) => <Comment {...props} />}\r\n    />\r\n  );\r\n  \r\n  Editor = ({\r\n    onChange :any,\r\n    onSubmit,\r\n    submitting,\r\n    value,\r\n  }) => (\r\n    <div>\r\n      <Form.Item>\r\n        <TextArea rows={4} onChange={onChange} value={value} />\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Button\r\n          htmlType=\"submit\"\r\n          loading={submitting}\r\n          onClick={onSubmit}\r\n          type=\"primary\"\r\n        >\r\n          Add Comment\r\n        </Button>\r\n      </Form.Item>\r\n    </div>\r\n  );\r\n\r\n  handleSubmit = () => {\r\n    if (!this.state.value) {\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      submitting: true,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.setState({\r\n        submitting: false,\r\n        value: \"\",\r\n        comments: [\r\n          {\r\n            author: \"Han Solo\",\r\n            avatar:\r\n              \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\r\n            content: <p>{this.state.value}</p>,\r\n            datetime: moment().fromNow(),\r\n          },\r\n          ...this.state.comments,\r\n        ],\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      value: e.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { comments, submitting, value } = this.state;\r\n    return (\r\n      <div>\r\n        {comments.length > 0 && <CommentList comments={comments} />}\r\n        <Comment\r\n          avatar={\r\n            <Avatar\r\n              src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\"\r\n              alt=\"Han Solo\"\r\n            />\r\n          }\r\n          content={\r\n            <Editor\r\n              onChange={this.handleChange}\r\n              onSubmit={this.handleSubmit}\r\n              submitting={submitting}\r\n              value={value}\r\n            />\r\n          }\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}