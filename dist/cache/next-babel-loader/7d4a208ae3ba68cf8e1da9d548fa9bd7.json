{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\u6BD5\\u4E1A\\u8BBE\\u8BA1\\\\\\u5B9E\\u8DF5\\u8D44\\u6599\\\\20210201-test\\\\20210201\\\\code\\\\next-ts\\u6A21\\u677F\\\\my-app\\\\pages\\\\pay\\\\index.tsx\";\nvar __jsx = React.createElement;\n// import Link from 'next/link'\nimport Layout from \"../../components/Layout\";\nimport { withRouter } from \"next/router\";\nimport React, { useState, useEffect } from \"react\";\nimport \"../../static/css/font-awesome.css\"; // import \"./css/index.css\";\n// import fetch from \"isomorphic-unfetch\";\n\nimport { fetchget } from \"../../utils/zgfetch\"; // import { Button, notification } from \"antd\";\n// import Router from \"next/router\";\n// import Fromdemo from \"./components/from\"\n\nimport Topboxnav from \"../components/topboxnavyidenglu\";\nimport \"./pay.css\"; // import { Menu, Dropdown } from \"antd\";\n// import Item from \"antd/lib/list/Item\";\n// import { relative } from \"path\";\n\nconst IndexPage = () => {\n  let url = \"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1123237291,2005820395&fm=26&gp=0.jpg\";\n  useEffect(() => {\n    getUser();\n    getdata();\n  }, []);\n  let {\n    0: imgurl,\n    1: setimg\n  } = useState(url);\n  let {\n    0: name,\n    1: setname\n  } = useState(\"未登录\");\n  let {\n    0: show,\n    1: setshow\n  } = useState([]);\n  let {\n    0: sumprice,\n    1: setsumprice\n  } = useState(0);\n\n  const getUser = () => {\n    //    console.log(sessionStorage.name)\n    if (sessionStorage.imgurl && sessionStorage.name) {\n      setimg(imgurl = sessionStorage.imgurl); // console.log(imgurl);\n\n      setname(name = sessionStorage.name); // console.log(imgurl);\n    }\n  };\n\n  const getdata = async () => {\n    // console.log(name, \"123456\");\n    if (name != \"未登录\") {\n      let datas = await fetchget(\"http://localhost:3001/dingdan\");\n\n      if (datas) {\n        console.log(datas);\n\n        if (datas[0]) {\n          var sump = datas[0].sumprice;\n        }\n\n        setshow(datas);\n        setsumprice(sump);\n      }\n    } //  console.log(datas,'xxxxxxx')\n\n  };\n\n  const jisuancount = () => {\n    var list = show;\n    var s = 0;\n    list.forEach((v, i) => {\n      if (v.count) {\n        s += parseInt(v.count);\n      }\n    });\n    return s;\n  };\n\n  return __jsx(Layout, {\n    title: \"\\u8BA2\\u5355\\u9875\\u9762\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, __jsx(Topboxnav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"market-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"header-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"dingdanlogo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    className: \"adingdan\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"\\u5B54\\u7F51 | \\u4E66\\u672C\")), __jsx(\"div\", {\n    className: \"market-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"user-people\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"user-pic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    src: imgurl,\n    className: \"imgdingdan\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }), __jsx(\"span\", {\n    className: \"spandingdan\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"\\u4E2A\\u4EBA\\u4E2D\\u5FC3\"))), __jsx(\"a\", {\n    className: \"user-cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    className: \"fa fa-shopping-cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }))))), __jsx(\"div\", {\n    className: \"market-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"deal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"hd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, \"\\u6536\\u94F6\\u53F0\"), __jsx(\"div\", {\n    className: \"pay-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"\\u8BF7\\u9009\\u62E9\\u4ED8\\u6B3E\\u65B9\\u5F0F\"), __jsx(\"div\", {\n    className: \"pay-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"\\u8BA2\\u5355\\u53F7\\uFF1A3852581999\"), __jsx(\"span\", {\n    className: \"amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, __jsx(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"\\u5B9E\\u4ED8\\u91D1\\u989D\\uFF1A\"), __jsx(\"em\", {\n    className: \"real_amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"89.60\")))), __jsx(\"div\", {\n    className: \"pay-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"alipay-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"aliImg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    src: \"../../static/images/apiapy.jpg\",\n    width: \"145\",\n    height: \"145\",\n    className: \"imgrongqi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    className: \"pay-describe\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, \"\\u4F7F\\u7528\\u652F\\u4ED8\\u5B9D\\u626B\\u63CF\\u6B64\\u4E8C\\u7EF4\\u7801\\u8FDB\\u884C\\u652F\\u4ED8\"))))));\n}; // IndexPage.getInitialProps = async (context: any) => {\n//   const res = await fetch(`http://localhost:3001/carshop/${name}`);\n//   const show = await res.json();\n//   //这边返回的数据会被挂载到组件的props中\n//   return { show };\n// };\n\n\nexport default withRouter(IndexPage);","map":{"version":3,"sources":["D:/react毕业设计/实践资料/20210201-test/20210201/code/next-ts模板/my-app/pages/pay/index.tsx"],"names":["Layout","withRouter","React","useState","useEffect","fetchget","Topboxnav","IndexPage","url","getUser","getdata","imgurl","setimg","name","setname","show","setshow","sumprice","setsumprice","sessionStorage","datas","console","log","sump","jisuancount","list","s","forEach","v","i","count","parseInt"],"mappings":"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","sourcesContent":["// import Link from 'next/link'\r\nimport Layout from \"../../components/Layout\";\r\nimport { withRouter } from \"next/router\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport \"@/static/css/font-awesome.css\";\r\n// import \"./css/index.css\";\r\n// import fetch from \"isomorphic-unfetch\";\r\nimport { fetchget } from \"../../utils/zgfetch\";\r\n// import { Button, notification } from \"antd\";\r\n// import Router from \"next/router\";\r\n// import Fromdemo from \"./components/from\"\r\nimport Topboxnav from \"../components/topboxnavyidenglu\";\r\nimport \"./pay.css\";\r\n// import { Menu, Dropdown } from \"antd\";\r\n// import Item from \"antd/lib/list/Item\";\r\n// import { relative } from \"path\";\r\n\r\nconst IndexPage = () => {\r\n  let url =\r\n    \"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1123237291,2005820395&fm=26&gp=0.jpg\";\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n    getdata();\r\n  }, []);\r\n\r\n  let [imgurl, setimg] = useState(url);\r\n  let [name, setname] = useState(\"未登录\");\r\n  let [show, setshow] = useState<any>([]);\r\n  let [sumprice, setsumprice] = useState(0);\r\n\r\n  const getUser = () => {\r\n    //    console.log(sessionStorage.name)\r\n    if (sessionStorage.imgurl && sessionStorage.name) {\r\n      setimg((imgurl = sessionStorage.imgurl));\r\n      // console.log(imgurl);\r\n      setname((name = sessionStorage.name));\r\n      // console.log(imgurl);\r\n    }\r\n  };\r\n\r\n  const getdata = async () => {\r\n    // console.log(name, \"123456\");\r\n    if (name != \"未登录\") {\r\n      let datas = await fetchget(\"http://localhost:3001/dingdan\");\r\n      if (datas) {\r\n        console.log(datas);\r\n        if (datas[0]) {\r\n          var sump = datas[0].sumprice;\r\n        }\r\n\r\n        setshow(datas);\r\n        setsumprice(sump);\r\n      }\r\n    }\r\n    //  console.log(datas,'xxxxxxx')\r\n  };\r\n\r\n  const jisuancount = () => {\r\n    var list = show;\r\n    var s = 0;\r\n    list.forEach((v: any, i: any) => {\r\n      if (v.count) {\r\n        s += parseInt(v.count);\r\n      }\r\n    });\r\n    return s;\r\n  };\r\n\r\n  return (\r\n    <Layout title=\"订单页面\">\r\n      <Topboxnav></Topboxnav>\r\n      {/* 第二层头部开始 */}\r\n      <div className=\"market-header\">\r\n        <div className=\"header-inner\">\r\n          <div className=\"dingdanlogo\">\r\n            <a className=\"adingdan\">孔网 | 书本</a>\r\n          </div>\r\n          <div className=\"market-user\">\r\n            <div className=\"user-people\">\r\n              <div className=\"user-pic\">\r\n                <img src={imgurl} className=\"imgdingdan\" />\r\n                <span className=\"spandingdan\">个人中心</span>\r\n              </div>\r\n            </div>\r\n\r\n            <a className=\"user-cart\">\r\n              <i className=\"fa fa-shopping-cart\"></i>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* 第二层头部结束 */}\r\n\r\n      {/* 第三层开始了 */}\r\n      <div className=\"market-wrapper\">\r\n        <div className=\"deal-body\">\r\n          <div className=\"hd\">收银台</div>\r\n          {/* ----------------------- */}\r\n          <div className=\"pay-content\">\r\n            <div className=\"title\">请选择付款方式</div>\r\n            <div className=\"pay-info\">\r\n              <span>订单号：3852581999</span>\r\n              <span className=\"amount\">\r\n                <em>实付金额：</em>\r\n                <em className=\"real_amount\">89.60</em>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          {/* ---------------------- */}\r\n          <div className=\"pay-box\">\r\n            <div className=\"alipay-box\">\r\n              <div className=\"aliImg\">\r\n              <img src=\"../../static/images/apiapy.jpg\" width=\"145\" height=\"145\" className=\"imgrongqi\"></img>\r\n              </div>\r\n              <div className=\"pay-describe\">使用支付宝扫描此二维码进行支付</div>\r\n            </div>\r\n          </div>\r\n             {/* ---------------------- */}\r\n        </div>\r\n      </div>\r\n      {/* 第三层结束了 */}\r\n    </Layout>\r\n  );\r\n};\r\n\r\n// IndexPage.getInitialProps = async (context: any) => {\r\n//   const res = await fetch(`http://localhost:3001/carshop/${name}`);\r\n//   const show = await res.json();\r\n//   //这边返回的数据会被挂载到组件的props中\r\n//   return { show };\r\n// };\r\n\r\nexport default withRouter(IndexPage);\r\n"]},"metadata":{},"sourceType":"module"}